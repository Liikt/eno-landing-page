{% extends "_base.html" %}
{% block content %}
<div class="content-subpage">
    <h2 class="content-head is-center">Downloads</h2>
    <div class="pure-g">
        <div class="pure-u-1 maxw-700 div-is-center">
            {% if verified and active %}

              <h3> CTF sponsored by Hetzner Cloud <a href="https://www.hetzner.com/cloud" target="_blank" style="background-color: transparent">
              <img src="img/hetzner-logo-1.svg" class="hvr-wobble-top" alt="hetzner logo" height="20vw">
              </a> </h3>

                <!--
                <p>Public downloads are mirrored at <a href="https://static.enoflag.de/enowars4/" target="_blank">https://static.enoflag.de/enowars4/</a> and
                on Google Drive: <a href="https://drive.google.com/file/d/1GG2XgUBCwFssZE66125qPynmulR7y0Vc/view" target="_blank">
teamrouter.ova</a>, <a href="https://drive.google.com/file/d/1GN5QCESs35UVKTZd_ACy3zi3-z5p9B2o/view" target="_blank">teamtestvm.ova</a>, <a href="https://drive.google.com/file/d/1YhixqgRESbprTODxLaApNNcQNzt1LOus/view" target="_blank">vulnbox.ova.gpg</a>.</p>
                -->
                <ul style="list-style: none;">
                    {% if download_options['DOWNLOAD_CONFIG_ENABLED'] %}
                        <li><i class="fa fa-download"></i>
                            <a href="{{ url_for('download', file='vpn_config') }}">team{{ session[2] }}.conf</a>
                        </li>
                    {% endif %}
                    {% if download_options['DOWNLOAD_KEY_ENABLED'] %}
                        <li><i class="fa fa-download"></i>
                            <a href="{{ url_for('download', file='key') }}">team{{ session[2] }}.key</a>
                        </li>
                        <li><i class="fa fa-download"></i>
                            <a href="{{ url_for('download', file='password') }}">ssh-password{{ session[2] }}.txt</a>
                        </li>
                    {% endif %}
                    {% for file in files %}
                        <li><i class="fa fa-download"></i>
                            <a href="files/{{ file }}">{{ file }}</a>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <div class="pure-alert pure-alert-warning">
                    <span class="msg-type">Warning:</span>
                    You have to verify your e-mail-address before you can download the necessary files to participate.<br>
                    <a href="{{url_for('page_verify_mail')}}">Request new activation mail</a>
                </div>
            {% endif %}
            <h3>Public ips of your vulnbox</h3>
            <h4>https://paste.enoflag.de/?6bdf9592a23ee010#2Qa7Fu8oB1iPv9Y8kt9brjGUVqxtZeXsV3AdqXo8mUHh</h4>
            <h4>Is your team missing in this list?</h4>
            <h4>1. Create the vulnbox at the "Vulnbox" tab.</h4>
            <h4>2. If you have done 1., and your ip was not displayed, ping an admin on irc or @ENOFLAG on Twitter</h4>
	    <h2>Self-hosting teams</h2>
	    <h3>If you are not self-hosting your vulnbox please ignore the info below</h3>
	    <h3>The public service repo is <a href="https://github.com/enowars/enowars4-vulnbox-services">here</a></h3>
	    <h3>There will also be a key released which can be used to grab additional data for one service (again only self-hosting teams need to worry about this).</h3>
	    <h3>key + ip + service-name are released when the ctf starts.</h3>
	    <h3>key is the content of the teamX.key (released at ctf start).</h3>
	    <div class="code-block">
	        <code>curl -o &lt;key&gt;.zip http://116.203.192.124/&lt;key&gt;.zip
		unzip &lt;key&gt;.zip -d /tmp
		rm -f &lt;key&gt;.zip
		mkdir /services/2gather/app/keys
		cp /tmp/&lt;key&gt;/* /services/2gather/app/keys
		</code>
	    </div>

        </div>
    </div>
</div>
{% endblock %}
